{
  "kind": "spec_vs_diff_report",
  "version": "1.0",
  "generatedAt": "2026-02-16T00:19:35.668Z",
  "summary": "Implemented a new in-app “Install App” entry point (InstallAppAction) placed in the UI (Header/Sidebar), plus an iOS/Safari fallback modal with step-by-step instructions. Updated shared PWA install state via a zustand-backed hook and adjusted the existing PWA install banner behavior. Main gap: the new entry point can appear at the same time as the existing install banner, which may violate the non-conflict requirement.",
  "missing_requirements": [
    {
      "id": "REQ-69",
      "requirement": "Ensure the existing PWA install banner and the new “Install App” entry point do not conflict: avoid showing redundant prompts at the same time and ensure dismissing one does not break the other.",
      "reason": "The new InstallAppAction renders whenever the app is not installed, while PwaInstallBanner renders when installable and not dismissed. This means both prompts can appear simultaneously (redundant install surfaces at the same time), which conflicts with the requirement to avoid redundant prompts.",
      "evidence": [
        "frontend/src/components/InstallAppAction.tsx (shouldShowInstallAction = !isInstalled)",
        "frontend/src/components/PwaInstallBanner.tsx (renders when !isInstalled && isInstallable && !bannerDismissed)",
        "frontend/src/hooks/useInstallAppEntryPoint.ts (shouldShowInstallAction = !isInstalled)"
      ]
    },
    {
      "id": "REQ-67",
      "requirement": "All user-facing text is in English and uses the metube.xyz name.",
      "reason": "Some install-related UI text does not include the metube.xyz name (e.g., the in-app entry point label is just “Install App”). The banner and iOS dialog use metube.xyz, but the requirement states user-facing text uses the metube.xyz name.",
      "evidence": [
        "frontend/src/components/InstallAppAction.tsx (button/menu label: \"Install App\")",
        "frontend/src/components/PwaInstallBanner.tsx (\"Install metube.xyz\")",
        "frontend/src/components/IosInstallInstructionsDialog.tsx (\"Install metube.xyz\" and other mentions)"
      ]
    }
  ],
  "hallucinated_features": [],
  "confidence": 0.74,
  "changed_files": [
    "frontend-file-summaries.txt",
    "frontend/src/components/Header.tsx",
    "frontend/src/components/InstallAppAction.tsx",
    "frontend/src/components/IosInstallInstructionsDialog.tsx",
    "frontend/src/components/PwaInstallBanner.tsx",
    "frontend/src/components/Sidebar.tsx",
    "frontend/src/hooks/useInstallAppEntryPoint.ts",
    "frontend/src/hooks/usePwaInstallPrompt.ts",
    "project_state.json"
  ]
}